{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/product":{"get":{"tags":["product-controller"],"summary":"Get products","description":"Gets all products registered","operationId":"getAllProducts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductView"}}}}}}},"post":{"tags":["product-controller"],"summary":"Create product","description":"Creates a new product if given its name, unit of measurement and price, and returns it. Optionally, a product category id can be given to set the product category uppon creation","operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductView"}}}}}}},"/product-category":{"get":{"tags":["product-category-controller"],"summary":"Finds product categories","description":"Finds all product categories","operationId":"findAllCategories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductCategory"}}}}}}},"post":{"tags":["product-category-controller"],"summary":"Create product category","description":"Creates a new product category if given the name and returns it","operationId":"createCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCategoryDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductCategoryView"}}}}}}},"/cart":{"post":{"tags":["cart-controller"],"summary":"Create cart","description":"Creates a cart and returns it","operationId":"createNewCart","responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartView"}}}}}}},"/product/{productId}":{"get":{"tags":["product-controller"],"summary":"Get product","description":"Gets a product by its id","operationId":"getProduct","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductView"}}}}}},"patch":{"tags":["product-controller"],"summary":"Sets product","description":"Sets the product category if given its id and the productCategoryId. If null is explictly passed to productCategoryId, the category association is removed","operationId":"setProductCategory","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetProductCategoryDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductView"}}}}}}},"/product-category/{productId}":{"get":{"tags":["product-category-controller"],"summary":"Find product category by id","description":"Finds a product category by its product category id","operationId":"findCategory","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductCategoryView"}}}}}},"delete":{"tags":["product-category-controller"],"summary":"Delete product category","description":"Deletes a product category if given the id. Returns nothing","operationId":"deleteCategory","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content","content":{"*/*":{"schema":{"type":"string"}}}}}},"patch":{"tags":["product-category-controller"],"summary":"Change product category name","description":"Changes the product category name if given the new name and returns it","operationId":"changeCategoryName","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCategoryDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductCategoryView"}}}}}}},"/cart/{cartId}/remove":{"patch":{"tags":["cart-controller"],"summary":"Remove product from cart","description":"Removes a product from a cart if given the product id and returns it","operationId":"removeProductFromCart","parameters":[{"name":"cartId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveCartItemDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartView"}}}}}}},"/cart/{cartId}/checkout":{"patch":{"tags":["cart-controller"],"summary":"Pay cart","description":"Pays the total ammount owed for the products of the cart","operationId":"payCart","parameters":[{"name":"cartId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PayCartDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/cart/{cartId}/change-quantity":{"patch":{"tags":["cart-controller"],"summary":"Change product quantity","description":"Changes the quantity of a product on a cart if given the product id and new quantity and returns the cart","operationId":"changeQuantity","parameters":[{"name":"cartId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartView"}}}}}}},"/cart/{cartId}/add":{"patch":{"tags":["cart-controller"],"summary":"Add product to cart","description":"Adds a product to a cart if given the product id and quantity and returns the cart","operationId":"addProductToCart","parameters":[{"name":"cartId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartView"}}}}}}},"/cart/{cartId}":{"get":{"tags":["cart-controller"],"summary":"Get cart","description":"Returns the cart info if given the cart's id","operationId":"getCart","parameters":[{"name":"cartId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CartView"}}}}}}}},"components":{"schemas":{"ProductDTO":{"required":["name","price","unit"],"type":"object","properties":{"name":{"type":"string"},"unit":{"type":"string"},"price":{"type":"number"},"productCategory":{"type":"integer","format":"int64"}}},"ProductCategoryView":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"ProductView":{"required":["name","price","unit"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"unit":{"type":"string"},"price":{"type":"number"},"category":{"$ref":"#/components/schemas/ProductCategoryView"}}},"ProductCategoryDTO":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"CartItemView":{"required":["productName","quantity","totalPrice","unit","unitPrice"],"type":"object","properties":{"productName":{"type":"string"},"unit":{"type":"string"},"quantity":{"type":"integer","format":"int32"},"unitPrice":{"type":"number"},"totalPrice":{"type":"number"}}},"CartView":{"required":["id","items","paid","total"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CartItemView"}},"paid":{"type":"boolean"},"total":{"type":"number"},"method":{"type":"string","enum":["CASH","PIX","DEBIT_CARD","CREDIT_CARD"]}}},"SetProductCategoryDTO":{"type":"object","properties":{"productCategoryId":{"type":"integer","format":"int64"}}},"RemoveCartItemDTO":{"required":["productId"],"type":"object","properties":{"productId":{"type":"integer","format":"int64"}}},"PayCartDTO":{"required":["paymentMethod"],"type":"object","properties":{"paymentMethod":{"type":"string"}}},"CartItemDTO":{"required":["productId","quantity"],"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"}}},"ProductCategory":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"integer","format":"int64"}}}}}}